<DOCTYPE html>
<html>
<head>
	<title>hourglass sum</title>
	<meta http-equiv="content-type" content="text/html; charset=utf-8" />
</head>
<body>

<script>


	function hourglassSum(arr) {
		
		var hourglasses = [];

		function getHourglass(x, y) {
			return [arr[y-1][x-1], arr[y-1][x], arr[y-1][x+1],
								   arr[y][x],
					arr[y+1][x-1], arr[y+1][x], arr[y+1][x+1]];
		}

		//get all hourglasses
		for(y = 1; y < 5; y++) {
			for(x = 1; x < 5; x++) {
				hourglasses.push(getHourglass(x, y))
			}
		}

		//find max total of hourglasses
		var max = -9999999999999;
		for(var i = 0; hourglasses[i]; i++) {

			var total = 0;

			for(var j = 0; j < hourglasses[i].length; j++) {
				total = total + hourglasses[i][j];
			}

			if(total > max) {
				max = total;
			}
			
		}
		console.log(max);

		return max;

	}

	//expected: 19
	const test0 =  [[ 1, 1, 1, 0, 0, 0 ],
					[ 0, 1, 0, 0, 0, 0 ],
					[ 1, 1, 1, 0, 0, 0 ],
					[ 0, 0, 2, 4, 4, 0 ],
					[ 0, 0, 0, 2, 0, 0 ],
					[ 0, 0, 1, 2, 4, 0 ]];

	//hourglassSum(test0);
	//expected: -19
	const test7 = [
		[0, -4, -6, 0, -7, -6],
		[-1, -2, -6, -8, -3, -1],
		[-8, -4, -2, -8, -8, -6],
		[-3, -1, -2, -5, -7, -4],
		[-3, -5, -3, -6, -6, -6],
		[-3, -6, 0, -8, -6, -7],
	];

	hourglassSum(test7);

</script>

</body>
</html>